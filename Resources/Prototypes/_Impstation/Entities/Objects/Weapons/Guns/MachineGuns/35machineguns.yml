# .35 auto deals 16 pierce per shot (CartridgePistol)
- type: entity
  name: Atreides
  parent: [BaseWeaponSubMachineGun, BaseMajorContraband]
  id: WeaponSubMachineGunAtreides
  description: A rare machine pistol hailing from the Corporate Wars. Its extremely high fire rate and compact profile make it useful in close quarters combat. Despite its age, it is in remarkably good condition. Feeds from .35 SMG magazines.
  components:
  - type: Sprite
    sprite: _Impstation/Objects/Weapons/Guns/MachineGuns/atreides.rsi
    layers:
    - state: base
      map: ["enum.GunVisualLayers.Base"]
    - state: mag-0
      map: ["enum.GunVisualLayers.Mag"]
  - type: Gun
    fireRate: 10
    soundGunshot:
      path: /Audio/Weapons/Guns/Gunshots/atreides.ogg
  - type: MagazineVisuals
    magState: mag
    steps: 1
    zeroVisible: true
  - type: Appearance

- type: entity
  name: C-20R Gorgon
  parent: [BaseWeaponSubMachineGun, Tier3Contraband]
  id: WeaponSubMachineGunC20r
  description: An SMG often used by the infamous Nuclear Operatives... allegedly. Automatically ejects empty magazines. Uses .35 auto ammo.
  components:
  - type: Sprite
    sprite: _Impstation/Objects/Weapons/Guns/MachineGuns/c20r.rsi
    layers:
    - state: base
      map: ["enum.GunVisualLayers.Base"]
    - state: mag-0
      map: ["enum.GunVisualLayers.Mag"]
  - type: Clothing
    sprite: _Impstation/Objects/Weapons/Guns/MachineGuns/c20r.rsi
  - type: Wieldable
    unwieldOnUse: false
  - type: GunWieldBonus
    minAngle: -19
    maxAngle: -16
  - type: Gun
    minAngle: 21
    maxAngle: 32
    shotsPerBurst: 2
    burstCooldown: 0.15
    burstFireRate: 20
    availableModes:
    - Burst
    - FullAuto
    - SemiAuto
    soundGunshot:
      path: /Audio/Weapons/Guns/Gunshots/c-20r.ogg
  - type: ChamberMagazineAmmoProvider
    autoEject: true
    soundAutoEject:
      path: /Audio/Weapons/Guns/EmptyAlarm/lmg_empty_alarm.ogg
      params:
        volume: 2
  - type: MagazineVisuals
    magState: mag
    steps: 6
    zeroVisible: true
  - type: Appearance
  - type: MeleeWeapon
    attackRate: 0.6
  - type: StaminaDamageOnHit
    damage: 10 #slight stagger, but still like 10 hits to stun completely
  - type: MeleeRequiresWield
  - type: MeleeThrowOnHit
    distance: 0.8
    speed: 5
  - type: DamageOtherOnHit #for throwing
    staminaCost: 10
    damage:
      types:
        Blunt: 8
  - type: StaticPrice
    price: 5000

- type: entity
  name: C-20r ROW #I think ROW stands for Recharging Onboard Weapon so i'm following the L6C's example
  id: WeaponSubMachineGunC20rROW
  parent: BaseItem
  description: A burst-fire C-20r submachine gun for use by cyborgs. Creates .35 caliber ammo on the fly from an internal ammo fabricator, which slowly self-charges.
  components:
  - type: Gun
    minAngle: 2
    maxAngle: 16
    angleIncrease: 4
    angleDecay: 16
    fireRate: 8
    burstFireRate: 8
    selectedMode: Burst
    availableModes:
    - Burst
    soundGunshot:
      path: /Audio/Weapons/Guns/Gunshots/c-20r.ogg
  - type: Sprite
    sprite: _Impstation/Objects/Weapons/Guns/MachineGuns/c20r.rsi
    layers:
    - state: base
      map: ["enum.GunVisualLayers.Base"]
    - state: mag-5
      map: ["enum.GunVisualLayers.Mag"]
  - type: Item
    size: Huge
  - type: ContainerContainer
    containers:
      ballistic-ammo: !type:Container
  - type: BallisticAmmoProvider
    whitelist:
      tags:
      - CartridgePistol
    capacity: 30
    proto: CartridgePistol
    cycleable: false # No synthesizing ammo for your syndicate masters.
  - type: BallisticAmmoSelfRefiller
    autoRefillRate: 4s
    affectedByEmp: true
  - type: AmmoCounter

- type: entity
  name: Drozd
  parent: [BaseWeaponSubMachineGun, BaseSecurityContraband]
  id: WeaponSubMachineGunDrozd
  description: A standard burst-fire two-handed submachine gun. Boasts an impressive fire rate at the cost of accuracy. Uses .35 auto ammo.
  components:
    - type: Sprite
      sprite: _Impstation/Objects/Weapons/Guns/MachineGuns/drozd.rsi
      layers:
        - state: base
          map: ["enum.GunVisualLayers.Base"]
        - state: mag-0
          map: ["enum.GunVisualLayers.Mag"]
    - type: Clothing
      sprite: _Impstation/Objects/Weapons/Guns/MachineGuns/drozd.rsi
    - type: Wieldable
      unwieldOnUse: false
    - type: GunWieldBonus
      minAngle: -19
      maxAngle: -16
    - type: Gun
      minAngle: 21
      maxAngle: 32
      fireRate: 6
      burstFireRate: 12
      soundGunshot:
        path: /Audio/Weapons/Guns/Gunshots/atreides.ogg
      availableModes:
      - Burst
      - FullAuto
      - SemiAuto
      shotsPerBurst: 3
      burstCooldown: 0.25
      selectedMode: Burst
    - type: ItemSlots
      slots:
        gun_magazine:
          name: Magazine
          startingItem: MagazinePistolSubMachineGun
          insertSound: /Audio/Weapons/Guns/MagIn/smg_magin.ogg
          ejectSound: /Audio/Weapons/Guns/MagOut/smg_magout.ogg
          priority: 2
          whitelist:
            tags:
              - MagazinePistolSubMachineGun
          whitelistFailPopup: gun-magazine-whitelist-fail
        gun_chamber:
          name: Chamber
          startingItem: CartridgePistol
          priority: 1
          whitelist:
            tags:
              - CartridgePistol
    - type: MagazineVisuals
      magState: mag
      steps: 1
      zeroVisible: true
    - type: Appearance
    - type: MeleeWeapon
      attackRate: 0.6
    - type: StaminaDamageOnHit
      damage: 10 #slight stagger, but still like 10 hits to stun completely
    - type: MeleeRequiresWield
    - type: MeleeThrowOnHit
      distance: 0.8
      speed: 5
    - type: DamageOtherOnHit #for throwing
      staminaCost: 10
      damage:
        types:
          Blunt: 8

- type: entity
  name: WT550
  parent: [BaseWeaponSubMachineGun, BaseSecurityContraband]
  id: WeaponSubMachineGunWt550
  description: An excellent top-loaded, compact Personal Defense Weapon, produced by Nanotrasen's Small Arms Division. Uses .35 auto ammo.
  components:
  - type: Sprite
    sprite: _Impstation/Objects/Weapons/Guns/MachineGuns/wt550.rsi
    layers:
      - state: base
        map: ["enum.GunVisualLayers.Base"]
      - state: base-unshaded
        map: ["enum.GunVisualLayers.BaseUnshaded"]
        shader: unshaded
      - state: mag-0
        map: ["enum.GunVisualLayers.Mag"]
      - state: mag-unshaded-0
        map: ["enum.GunVisualLayers.MagUnshaded"]
        shader: unshaded
  - type: Clothing
    sprite: _Impstation/Objects/Weapons/Guns/MachineGuns/wt550.rsi
  - type: ChamberMagazineAmmoProvider
    boltClosed: null
  - type: Gun
    fireRate: 5.5
    minAngle: 1
    maxAngle: 6
    angleIncrease: 1.5
    angleDecay: 6
    selectedMode: FullAuto
    shotsPerBurst: 3
    burstCooldown: 0.5
    burstFireRate: 12
    availableModes:
    - Burst
    - FullAuto
    - SemiAuto
  - type: ItemSlots
    slots:
      gun_magazine:
        name: Magazine
        startingItem: MagazinePistolSubMachineGunTopMounted
        insertSound: /Audio/Weapons/Guns/MagIn/smg_magin.ogg
        ejectSound: /Audio/Weapons/Guns/MagOut/smg_magout.ogg
        priority: 2
        whitelist:
          tags:
            - MagazinePistolSubMachineGunTopMounted
        whitelistFailPopup: gun-magazine-whitelist-fail
      gun_chamber:
        name: Chamber
        startingItem: CartridgePistol
        priority: 1
        whitelist:
          tags:
            - CartridgePistol
  - type: MagazineVisuals
    magState: mag
    steps: 6
    zeroVisible: true
  - type: Appearance

- type: entity
  name: brown briefcase
  parent: [BaseWeaponSubMachineGun]
  id: WeaponSubMachineGunBriefcase
  description: Useful for carrying items in your hands.
  suffix: Gun
  components:
  - type: Item
    size: Ginormous
    inhandVisuals:
      left:
        - sprite: Objects/Storage/Briefcases/briefcase_brown.rsi
          state: inhand-left
        - state: inhand-left-muzzle
      right:
        - sprite: Objects/Storage/Briefcases/briefcase_brown.rsi
          state: inhand-right
        - state: inhand-right-muzzle
  - type: Sprite
    sprite: Objects/Weapons/Guns/SMGs/briefcase.rsi
    layers:
    - sprite: Objects/Storage/Briefcases/briefcase_brown.rsi
      state: icon
    - state: icon-muzzle
      map: ["enum.GunVisualLayers.Base"]
  - type: Gun
    fireRate: 9
    minAngle: 25
    maxAngle: 32
    availableModes:
    - FullAuto
    soundGunshot:
      path: /Audio/Weapons/Guns/Gunshots/atreides.ogg
  - type: ChamberMagazineAmmoProvider
    autoEject: false
  - type: Appearance
  - type: StaticPrice
    price: 5000
